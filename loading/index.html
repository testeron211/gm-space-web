<html>
	<head>
		<title>Loading..</title>
		<link rel="stylesheet" type="text/css" href="loading.css?3.1" />
	</head>
	<body>

		<div id="container">

            <span id="title">Загружаемся...</span><br/>

            <br/>
            <img src="img/gmod_logo_brave.png" alt="">
            

			<center>
				<br />
				<div class="walk">:O</div>
            </center>
            
            <br/>
            <span id="title_status">loading...</span> <span>[files:</span> <span id="title_files">0</span><span>]</span>

        </div>
        
        <div class="player_info">
            <span>SteamID: </span><span id="title_steamid">...</span><br/>
            <span>Max players: </span><span id="title_maxplayers">...</span><br/>
            <span>Map: </span><span id="title_mapname">...</span><br/>
            <span id="time">...</span>
            
        </div>

        <script type="text/javascript">
            const title = document.getElementById("title");
            const title_status = document.getElementById("title_status")
            const title_files = document.getElementById("title_files")
            const title_steamid = document.getElementById("title_steamid");
            const title_maxplayers = document.getElementById("title_maxplayers");
            const title_mapname = document.getElementById("title_mapname");

			function GameDetails( servername, serverurl, mapname, maxplayers, steamid, gamemode, volume, lang )
			{
				//title.innerHTML = servername;
                title_steamid.innerHTML = steamid;
                title_maxplayers.innerHTML = maxplayers;
                title_mapname.innerHTML = mapname;
            }
            
            function SetFilesTotal( total )
            {
                title_files.innerHTML = total;
            }

			// This will not be called when DownloadingFile() is
			function SetStatusChanged( status )
			{
				title_status.innerHTML = status;
            }
            
            function updateTime() 
            {
                var timeBlock = document.getElementById("time");
                var date = new Date();

                var monts = ((date.getMonth() + 1) < 10 ? "0" + (date.getMonth() + 1) : (date.getMonth() + 1));
                var days = (date.getDate() < 10 ? "0" + date.getDate() : date.getDate());

                var hours = (date.getHours() < 10 ? "0" + date.getHours() : date.getHours());
                var minutes = (date.getMinutes() < 10 ? "0" + date.getMinutes() : date.getMinutes());

                timeBlock.innerHTML = days + "." + monts + "." + date.getFullYear() + " " + hours + ":" + minutes;
            }

            updateTime();
            setInterval(updateTime, 60000);
		</script>

	</body>
</html>